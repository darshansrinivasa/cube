{{ 'cube-media-gallery.css' | asset_url | stylesheet_tag }}
<script src="{{ 'cube-media-gallery.js' | asset_url }}" defer="defer"></script>

<div class="grid__item product__media-wrapper">
  <cube-media-gallery class="media-gallery {% if section.settings.enable_sticky_info %} product__column-sticky{% endif %}" id="MediaGallery">

    <div class="media-main" id="MediaMain">
      {% for media in product.media %}
        <div class="media-slide{% if forloop.first %} active{% endif %}"
             data-media-id="{{ media.id }}">
          {% if media.media_type == 'image' %}
            <img 
              src="{{ media | img_url: '800x' }}"
              alt="{{ media.alt | escape }}"
              class="media-main-image"
            >
          {% endif %}
        </div>
      {% endfor %}

      <div class="media-nav">
        <button class="media-arrow media-arrow--left" aria-label="Previous image">
            <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="0.405232" y="0.405232" width="38.0919" height="38.0919" rx="19.0459" stroke="#322D2D" stroke-width="0.810465"/>
                <path d="M25.9352 18.641H16.0718L20.6023 14.1105L19.4515 12.9678L12.9678 19.4515L19.4515 25.9352L20.5942 24.7925L16.0718 20.262H25.9352V18.641Z" fill="#322D2D"/>
            </svg>
        </button>
        <div class="media-pagination">
          {% for media in product.media %}
            <span 
              class="media-dot{% if forloop.first %} active{% endif %}"
              data-media-id="{{ media.id }}"
            ></span>
          {% endfor %}
        </div>
        <button class="media-arrow media-arrow--right" aria-label="Next image">
            <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="-0.405232" y="0.405232" width="38.0919" height="38.0919" rx="19.0459" transform="matrix(-1 0 0 1 38.0919 0)" stroke="#322D2D" stroke-width="0.810465"/>
                <path d="M12.971 18.641H22.8344L18.3039 14.1105L19.4548 12.9678L25.9385 19.4515L19.4548 25.9352L18.312 24.7925L22.8344 20.262H12.971V18.641Z" fill="#322D2D"/>
            </svg>
        </button>
      </div>
    </div>

    <div class="media-thumbs" id="MediaThumbs">
      {% for media in product.media %}
        <div class="media-thumb{% if forloop.first %} active{% endif %}"
             data-media-id="{{ media.id }}">
          <img 
            src="{{ media | img_url: '150x' }}"
            alt="{{ media.alt | escape }}"
            width="60"
            height="60"
          >
        </div>
      {% endfor %}
    </div>

  </cube-media-gallery>
</div>
